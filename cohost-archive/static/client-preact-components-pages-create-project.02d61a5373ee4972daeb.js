"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9678],{20228:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(94159),o=a(70496),l=a(65443),r=a.n(l);const c=({bigLabel:e,smallLabel:t,inputElement:a,infoBoxLevel:l,infoBoxContent:c,customDescription:s,disabled:i})=>{const u=t?"row-span-1":"row-span-2",m=s??null;return n.createElement("div",{className:"grid grid-cols-[1fr_min-content] grid-rows-[min-content] items-center gap-2.5 pt-2.5"},n.createElement(n.Fragment,null,n.createElement("label",{htmlFor:a.props.id,className:r()("col-start-1 row-start-1 font-bold",u,{"text-gray-300":i})},e),t?n.createElement("label",{htmlFor:a.props.id,className:r()("col-start-1 row-start-2 align-middle",{"text-gray-300":i})},t):null,n.createElement("div",{className:"col-start-2 row-span-2 row-start-1"},a),l?n.createElement(o.v,{level:l,className:"col-span-2 col-start-1"},c):m,n.createElement("hr",{className:"col-span-2 col-start-1 w-full border-gray-300"})))}},34223:function(e,t,a){a.r(t),a.d(t,{CreateProjectComponent:function(){return b}});var n=a(71860),o=a(12093),l=a(70769),r=a(86036),c=a.n(r),s=a(94159),i=a(90275),u=a(99838),m=a(51028),p=a(70496),d=a(20228),g=a(6553),f=a(48002);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(this,arguments)}const b=({canCreate:e,isAdult:t})=>{const{t:a}=(0,m.$G)(),[r,b]=(0,s.useState)(!1),[,y]=(0,s.useState)(""),E=n.S.projects.checkHandle.useMutation(),{register:v,handleSubmit:w,control:x,trigger:N}=(0,u.cI)({mode:"onTouched"});let k;return k=t?s.createElement(d.Z,{bigLabel:"18+ content?",inputElement:s.createElement("input",h({type:"checkbox",className:"rounded-checkbox"},v("adultContent"))),customDescription:s.createElement("div",{className:"prose prose-sm"},s.createElement("p",null,"This controls the default 18+ content state for any post you make. We recommend that pages which mostly post 18+ content enable this."),s.createElement("p",null,"Please note: even if your page is marked as 18+ content, profile information (avatar and header image) must be all-ages appropriate! You can read more in our"," ",s.createElement("a",{href:o.ZP.public.staticContent({slug:"community-guidelines"}).toString()},"community guidelines"),"."))}):s.createElement(p.v,{level:"warning",className:"prose"},"you're under 18, so you can't create an 18+ page, but you can flag individual posts on your pages as 18+ content."),s.createElement(s.Fragment,null,s.createElement(i.ql,{title:"create a page"}),s.createElement("div",{className:"container mx-auto mt-16 flex flex-col items-center"},s.createElement("div",{className:"cohost-shadow-light dark:cohost-shadow-dark flex w-full max-w-prose flex-col gap-4 rounded-lg bg-notWhite p-3 text-notBlack"},s.createElement("h4",{className:f.Kl},"create a new page"),e?s.createElement(s.Fragment,null,s.createElement("form",{onSubmit:w((async({handle:e,adultContent:t,privateProject:a})=>{b(!0),y("");const n=new URLSearchParams({handle:e,adultContent:t?t.toString():"false",privacy:a?l.WL.Private:l.WL.Public});try{await c().post(o.ZP.public.apiV1.createProject().toString(),n),location.replace(o.ZP.public.project.profileEdit())}catch(e){y("Creating a project failed."),b(!1)}})),className:"flex flex-col gap-4"},s.createElement(d.Z,{bigLabel:"page handle",inputElement:s.createElement(s.Fragment,null,s.createElement("input",h({type:"text"},v("handle",{required:"Handle is required!",validate:async e=>{try{const t=await E.mutateAsync({handle:e});return!0===t.valid||t.reason}catch(e){return a("common:unknown-error").toString()}}})))),customDescription:s.createElement("div",{className:"prose prose-sm"},s.createElement("p",null,'Handles must be at least 3 characters long, only contain letters, numbers, and hyphens ("-"), and not already be in use.'))}),k,s.createElement(d.Z,{bigLabel:"private page?",inputElement:s.createElement("input",h({type:"checkbox",className:"rounded-checkbox"},v("privateProject")))}),s.createElement(p.v,{level:"info",className:"prose prose-sm"},"Pages can have multiple editors, but we haven't built a UI for you to manage the editorship of a page yet. If you want to co-edit this page with collaborators, please e-mail us at support@cohost.org with the name of the new page and the name of one of your collaborators' pages, and we'll get everything sorted out for you."),s.createElement("div",{className:"flex w-full flex-col font-bold text-notWhite"},s.createElement(g.p,{type:"submit",disabled:r},"create a new page")))):s.createElement("div",null,"sorry, but you can't create new pages until your account is activated."))))};b.displayName="create-project",t.default=b},48002:function(e,t,a){a.d(t,{Kl:function(){return o},dO:function(){return l},hY:function(){return n},nk:function(){return r}});const n="cohost-shadow-light dark:cohost-shadow-dark mx-auto flex max-h-min w-full flex-col gap-4 rounded-lg bg-notWhite text-notBlack px-7 py-8",o="font-atkinson font-bold text-4xl",l="flex w-full flex-row items-center justify-end gap-4 font-bold text-notWhite",r="font-atkinson font-bold text-2xl pt-8"}}]);
//# sourceMappingURL=client-preact-components-pages-create-project.02d61a5373ee4972daeb.js.map