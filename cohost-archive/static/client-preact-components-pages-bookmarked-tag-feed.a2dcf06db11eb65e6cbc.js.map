{"version":3,"file":"client-preact-components-pages-bookmarked-tag-feed.a2dcf06db11eb65e6cbc.js","mappings":"0OAaO,MAAMA,EAA0CC,IACnD,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAASH,EAAMI,UAAW,GAUxD,OACIC,EAAAA,cAACC,EAAAA,EAAM,CACHL,QAASA,EACTM,SARgBC,IACpBN,EAAWM,GACXR,EAAMO,SAASC,IAOXC,UAAWC,GAAAA,CACP,gEACA,CACI,CAACC,EAAAA,IAAoC,UAArBX,EAAMY,WACtB,CAACC,EAAAA,IAAsC,YAArBb,EAAMY,WACxB,yDAAaX,EACb,0DAAeA,KAItBD,EAAMc,MAAM,IAEZb,EACGI,EAAAA,cAACU,EAAAA,EAAS,CAACN,UAAU,QAErBJ,EAAAA,cAACW,EAAAA,EAAS,CAACP,UAAU,W,qXChC9B,MAAMQ,EACTjB,GAGIK,EAAAA,cAAAA,EAAAA,SAAA,KACIA,EAAAA,cAACa,EAAAA,GAAM,CAACC,MAAM,wBACdd,EAAAA,cAACe,EAAAA,QAAeC,EAAA,GACRrB,EAAK,CACTsB,YAAa,CAAEC,gBAAiBvB,EAAMuB,mBAEtClB,EAAAA,cAAA,OAAKI,UAAU,+CAEXJ,EAAAA,cAAA,QAAMI,UAAU,8BAChBJ,EAAAA,cAACmB,EAAAA,EAAc,CACXC,KAAM,CACF,CACIX,MAAO,eACPY,KAAMC,EAAAA,GAAAA,OAAAA,YAA2BC,YAErC,CACId,MAAO,kBACPY,KAAMC,EAAAA,GAAAA,OAAAA,oBAEDC,WACLC,QAAQ,MAIpBxB,EAAAA,cAAA,OAAKI,UAAU,UAAS,KACxBJ,EAAAA,cAACN,EAAAA,EAAY,CACTe,MAAM,iBACNF,WAAW,UACXL,SAAUA,IACNuB,SAASC,OACLJ,EAAAA,GAAAA,OAAAA,kBACuB,CACfJ,iBAAkBvB,EAAMuB,kBAE3BK,YAGbxB,QAASJ,EAAMuB,qBAQvC,YACAN,EAAkBe,YAAc,uB,oMC3DzB,MAAMC,EAERA,EAAGC,SAAAA,KAEA7B,EAAAA,cAAA,OACII,UAAY,4HAGXyB,G,0BC+Bb,MAAMC,EAAyCC,GACpCA,EAAmBC,MAAM,KAAKC,QAGjC,CAACX,EAASY,IAAQZ,EAAQY,IAC1BZ,EAAAA,GAAAA,QAWFa,EAAoCA,EACtCC,eAAAA,EACAC,YAAAA,EACAC,iBAAAA,MAEA,MAAMC,EAAiBT,EACnBM,EAAeL,oBAEbS,EAAwBJ,EAAeK,iBACvCF,EAAe,CACXG,aAAcN,EAAeM,aAC7BC,UAAWP,EAAeQ,YAAcP,EACxCQ,QAAST,EAAeS,QACxBC,cAAeV,EAAeU,cAC9BC,gBAAYC,EACZC,eAAWD,KACRV,IACJf,gBACHyB,EAEN,IAAIE,EA+BJ,OA7BId,EAAee,oBAGXD,EAFAd,EAAeQ,aAAeR,EAAegB,gBAExBb,EAAe,CAChCM,QAAST,EAAeS,QACxBH,kBAAcM,EACdL,eAAWK,EACXF,cAAeV,EAAeU,cAC9BC,gBAAYC,EACZC,eAAWD,KACRV,IACJf,WAGkBgB,EAAe,CAChCG,aAAcN,EAAeM,aAC7BC,UAAWU,KAAKC,IACZ,EACAlB,EAAeQ,YAAcR,EAAegB,iBAEhDP,QAAST,EAAeS,QACxBC,cAAeV,EAAeU,cAC9BC,gBAAYC,EACZC,eAAWD,KACRV,IACJf,YAKPvB,EAAAA,cAACuD,EAAAA,EAAc,CACXC,SAAUN,EACVO,YAAajB,KAYnBkB,EAAsCA,EACxCtB,eAAAA,EACAE,iBAAAA,MAEA,MAAMC,EAAiBT,EAAkBM,EAAeL,oBAClDS,EAAwBJ,EAAeW,WACvCR,EAAe,CACXG,kBAAcM,EACdL,eAAWK,EACXH,QAAST,EAAeS,QACxBC,cAAeV,EAAeU,cAC9BC,WAAYX,EAAeW,WAC3BE,eAAWD,KACRV,IACJf,gBACHyB,EAEAE,EAAqBd,EAAea,UACpCV,EAAe,CACXG,kBAAcM,EACdL,eAAWK,EACXH,QAAST,EAAeS,QACxBC,cAAeV,EAAeU,cAC9BC,gBAAYC,EACZC,UAAWb,EAAea,aACvBX,IACJf,gBACHyB,EAEN,OACIhD,EAAAA,cAACuD,EAAAA,EAAc,CACXC,SAAUN,EACVO,YAAajB,KAYZmB,EAA4BA,EACrCvB,eAAAA,EACAC,YAAAA,EACAC,iBAAAA,KAE4B,4BAAxBF,EAAewB,KAEX5D,EAAAA,cAACmC,EAAiC,CAC9BC,eAAgBA,EAChBC,YAAaA,EACbC,iBAAkBA,IAGK,qBAAxBF,EAAewB,KAElB5D,EAAAA,cAAC0D,EAAmC,CAChCtB,eAAgBA,EAChBE,iBAAkBA,IAKvB,K,eC/JJ,MAAMvB,EAAkB8C,OAAOnC,QAClC,EACIoC,MAAAA,EACAC,gBAAAA,EACA3B,eAAAA,EACA4B,gBAAAA,EACAnC,SAAAA,EACAoC,KAAAA,EACAC,UAAAA,EACAjD,YAAAA,MAEA,MAAM,EAAEkD,IAAMC,EAAAA,EAAAA,MACRC,GAAiBC,EAAAA,EAAAA,MACjBC,GAAeC,EAAAA,EAAAA,KAEfC,EACFzE,EAAAA,cAAAA,EAAAA,SAAA,KAGK6B,EAED7B,EAAAA,cAAA,OAAKI,UAAU,wBACV0D,EAAMY,OAAS,EACZZ,EAAMa,KAAI,CAACC,EAAMC,IACbD,EACI5E,EAAAA,cAAC8E,EAAAA,EAAe,CACZ5C,IAAK0C,EAAKG,OACVC,eAAgBH,EAAQ,EACxBI,cAAc,GAEdjF,EAAAA,cAACkF,EAAAA,EAAW,CACRC,UAAWP,EACXb,gBAAiBA,EACjBQ,aAAcA,EACdL,UAAWA,KAGnB,OAGRlE,EAAAA,cAAC4B,EAAkB,KACf5B,EAAAA,cAACoF,EAAAA,EAAgB,CAAChF,UAAU,YAC3B+D,EAAEH,IAIXhE,EAAAA,cAAC2D,EAAyB,CACtBvB,eAAgBA,EAChBC,YAAayB,EAAMY,OACnBpC,iBAAkBrB,GAAe,OAM3CoE,GAAoBC,EAAAA,EAAAA,KAS1B,OARAC,EAAAA,EAAAA,YAAU,KACFlB,GACAgB,EAAkBG,MAAM,CACpBC,QAASpB,MAGlB,CAACA,EAAgBgB,IAEbpB,EACHQ,EAEAzE,EAAAA,cAAA,QAAMI,UAAU,mBACZJ,EAAAA,cAAA,OAAKI,UAAU,4DACXJ,EAAAA,cAAC0F,EAAAA,GAAW,MACZ1F,EAAAA,cAAA,WAASI,UAAU,0CACdqE,OAMrB,CACI9C,YAAa,sBAIrB,S,4FCtFA,EADmB,cAvBnB,UAA0B,MACxBb,EAAK,QACL6E,KACGhG,GACFiG,GACD,OAAoB,gBAAoB,MAAO/B,OAAOnC,OAAO,CAC3DmE,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACfC,IAAKN,EACL,kBAAmBD,GAClBhG,GAAQmB,EAAqB,gBAAoB,QAAS,CAC3DqF,GAAIR,GACH7E,GAAS,KAAmB,gBAAoB,OAAQ,CACzDsF,cAAe,QACfC,eAAgB,QAChBC,EAAG,kC,+BCRP,MAAMC,EAAsBlG,GAAAA,CACxB,MACA,OACA,iBACA,gBACA,sBACA,0BACA,sBAGSkD,EAAwDA,EACjEC,SAAAA,EACAC,YAAAA,EACAS,UAAAA,GAAY,EACZsC,YAAAA,EACAC,eAAAA,KAGIzG,EAAAA,cAAA,OAAKI,UAAU,+BAET8D,EAEE,KADAlE,EAAAA,cAAA,QAAMI,UAAU,wBAAuB,KAE1CoD,EACGxD,EAAAA,cAAA,KAAGqB,KAAMmC,EAAUkD,QAASF,GACxBxG,EAAAA,cAAC2G,EAAAA,GAAO,CAACvG,UAAY,GAAEmG,kBACnBvG,EAAAA,cAAC4G,EAAgB,QAGzB,KACJ5G,EAAAA,cAAA,QAAMI,UAAU,aAAY,KAC3BqD,EACGzD,EAAAA,cAAA,KAAGqB,KAAMoC,EAAaiD,QAASD,GAC3BzG,EAAAA,cAAC2G,EAAAA,GAAO,CAACvG,UAAWmG,GAChBvG,EAAAA,cAAC4G,EAAgB,QAGzB,MAKhB,S,qECrDO,MAAMzF,EAMRA,EAAGC,KAAAA,KAEApB,EAAAA,cAAA,MAAII,UAAU,8IACTgB,EAAKuD,KAAKkC,GACP7G,EAAAA,cAAA,MACIkC,IAAM,GAAE2E,EAAIpG,SAASoG,EAAIxF,OACzBjB,UAAY,wGACRyG,EAAIrF,OACE,gHACA,0CAGVxB,EAAAA,cAAA,KAAGqB,KAAMwF,EAAIxF,MAAOwF,EAAIpG,Y,kJCpBsV,IAAI6F,GAAE,mBAAE,MAAM,SAASQ,IAAI,IAAIC,GAAE,gBAAET,GAAG,GAAO,OAAJS,EAAS,CAAC,IAAI5C,EAAE,IAAI6C,MAAM,2EAA2E,MAAMA,MAAMC,mBAAmBD,MAAMC,kBAAkB9C,EAAE2C,GAAG3C,EAAE,OAAO4C,EAAE,SAASG,IAAI,IAAIH,EAAE5C,IAAG,cAAE,IAAI,MAAM,CAAC4C,EAAErC,OAAO,EAAEqC,EAAEI,KAAK,UAAK,GAAO,cAAE,IAAI,SAASC,GAAG,IAAIC,GAAE,QAAEC,IAAInD,GAAEoD,GAAG,IAAIA,EAAED,KAAI,IAAInD,GAAEoD,IAAI,IAAIC,EAAED,EAAEE,QAAQC,EAAEF,EAAEG,QAAQL,GAAG,OAAY,IAALI,GAAQF,EAAEI,OAAOF,EAAE,GAAGF,QAAMK,GAAE,cAAE,KAAI,CAAEC,SAAST,EAAEU,KAAKX,EAAEW,KAAKC,KAAKZ,EAAEY,KAAKrI,MAAMyH,EAAEzH,SAAQ,CAAC0H,EAAED,EAAEW,KAAKX,EAAEY,KAAKZ,EAAEzH,QAAQ,OAAO,gBAAgB2G,EAAE2B,SAAS,CAAC9H,MAAM0H,GAAGT,EAAEvF,YAAW,CAACsC,KAA6V,IAAI+D,GAAE,SAAhV,SAAWnB,EAAE5C,GAAG,IAAIgE,GAAE,UAAKhC,GAAGiB,EAAE,oBAAoBe,IAAIC,QAAQf,GAAE,KAAMQ,GAAGd,EAAEO,EAAER,IAAIS,GAAE,OAAEpD,IAAG,QAAE,IAAImD,EAAEQ,SAASV,IAAG,CAACA,EAAEE,EAAEQ,WAAW,IAAIN,EAAE,CAACtB,IAAIqB,KAAKD,EAAE3H,MAAMwG,GAAGiB,GAAG,OAAOC,IAAI,YAAYG,WAAWA,EAAEa,eAAeb,EAAEd,SAAS,YAAYmB,UAAUA,EAAEnB,UAAS,QAAE,CAAC4B,SAASd,EAAEe,WAAWV,EAAEE,KAAKT,EAAES,MAAM,GAAGS,WAA9S,QAA2TR,KAAKV,EAAEU,MAAM,aAAqBS,EAAE5E,OAAOnC,OAAOwG,EAAE,I,sECA9X,IAAIQ,GAAE,mBAAE,MAAMA,EAAE/G,YAAY,eAAe,IAAIgH,EAAE,WAA4/CC,GAAG,SAArgC,SAAYvB,EAAEG,GAAG,IAAIE,GAAE,UAAKvB,GAAG0C,EAAE,qBAAqBnB,IAAI9H,QAAQkJ,EAAEC,eAAezB,GAAE,EAAGpH,SAAS8I,EAAEhB,KAAKT,EAAEpH,MAAM8I,EAAEC,KAAKC,KAAK7C,GAAGe,EAAElD,GAAE,gBAAEuE,GAAG5B,GAAE,YAAE,MAAMsC,GAAE,OAAEtC,EAAEU,EAAM,OAAJrD,EAAS,KAAKA,EAAEkF,YAAYtC,EAAEc,IAAG,OAAEiB,EAAEE,EAAE1B,GAAGgC,GAAE,QAAE,IAAO,MAAHzB,OAAQ,EAAOA,GAAGd,KAAIwC,GAAE,QAAEnC,IAAI,IAAG,OAAEA,EAAEoC,eAAe,OAAOpC,EAAEqC,iBAAiBrC,EAAEqC,iBAAiBH,OAAMI,GAAE,QAAEtC,IAAIA,EAAElF,MAAM,WAASkF,EAAEqC,iBAAiBH,KAAKlC,EAAElF,MAAM,YAAS,OAAEkF,EAAEoC,kBAAiBtB,GAAE,QAAEd,GAAGA,EAAEqC,mBAAkBE,GAAE,cAAE,KAAI,CAAE/J,QAAQmH,KAAI,CAACA,IAAI6C,EAAE,CAACzD,GAAG0C,EAAE3C,IAAIkD,EAAES,KAAK,SAASC,MAAK,OAAEzC,EAAEP,GAAGiD,SAAS,EAAE,eAAehD,EAAE,kBAAqB,MAAH5C,OAAQ,EAAOA,EAAE6F,WAAW,mBAAsB,MAAH7F,OAAQ,EAAOA,EAAE8F,YAAYvD,QAAQ6C,EAAEW,QAAQR,EAAES,WAAWjC,GAAGkC,GAAE,SAAI,OAAO,gBAAE,KAAK,IAAIC,EAAE,IAAIjD,EAAiB,OAAdiD,EAAEvD,EAAEwD,cAAe,EAAOD,EAAEE,QAAQ,QAAQnD,QAAO,IAAJE,GAAY8C,EAAEI,iBAAiBpD,EAAE,SAAQ,KAAKS,EAAEP,QAAM,CAACR,EAAEe,IAAI,gBAAgB,WAAW,KAAQ,MAAHN,GAASR,GAAG,gBAAgB,IAAE,CAAC0D,SAAS,eAAY,QAAE,CAACC,GAAG,QAAQZ,KAAK,WAAWa,QAAO,EAAGC,UAAS,EAAG1B,KAAKC,EAAEvJ,QAAQmH,EAAEiB,KAAKT,EAAEpH,MAAM8I,OAAM,QAAE,CAACX,SAASsB,EAAErB,WAAWjC,EAAEyB,KAAK4B,EAAEnB,WAAx+B,SAAs/BR,KAAK,eAA8B6C,EAAGhH,OAAOnC,OAAOkH,EAAG,CAACkC,MAA7hD,SAAWzD,GAAG,IAAIf,EAAE,IAAIkB,EAAEE,IAAG,cAAE,OAAOmB,EAAEC,GAAG,KAAKxB,EAAE0B,IAAG,SAAIzB,GAAE,cAAE,KAAI,CAAEwD,OAAOvD,EAAE6B,UAAU3B,EAAEsC,WAAWnB,EAAEoB,YAAY3C,KAAI,CAACE,EAAEE,EAAEmB,EAAEvB,IAAS6B,EAAE9B,EAAE,OAAO,gBAAgB2B,EAAE,CAAChB,KAAK,sBAAsB,gBAAgBc,EAAE,CAACd,KAAK,eAAerI,MAAM,CAAC0I,QAAsB,OAAb/B,EAAEiB,EAAEwD,aAAc,EAAOzE,EAAEH,GAAGO,QAAQvC,GAAGqD,IAA8B,UAA1BrD,EAAEqF,cAAcwB,SAAmB7G,EAAEsF,iBAAiBjC,EAAEyD,QAAQzD,EAAE0D,MAAM,CAACC,eAAc,QAAS,gBAAgBzC,EAAET,SAAS,CAAC9H,MAAMoH,IAAG,QAAE,CAACe,SAAxS,GAAmTC,WAAWY,EAAEX,WAAWG,EAAEX,KAAK,qBAAklCoD,MAAM,EAAEC,YAAY","sources":["webpack:///./preact/components/elements/switch-button.tsx","webpack:///./preact/components/pages/bookmarked-tag-feed.tsx","webpack:///./preact/components/partials/no-posts-placeholder.tsx","webpack:///./preact/components/partials/project-post-feed-pagination.tsx","webpack:///./preact/components/pages/project-post-feed.tsx","webpack:///../node_modules/.pnpm/@heroicons+react@2.0.13_react@18.0.0/node_modules/@heroicons/react/24/outline/esm/ChevronRightIcon.js","webpack:///./preact/components/partials/pagination-eggs.tsx","webpack:///./preact/components/partials/timeline-switch.tsx","webpack:///../node_modules/.pnpm/@headlessui+react@1.7.14_zpnidt7m3osuk7shl3s4oenomq/node_modules/@headlessui/react/dist/components/label/label.js","webpack:///../node_modules/.pnpm/@headlessui+react@1.7.14_zpnidt7m3osuk7shl3s4oenomq/node_modules/@headlessui/react/dist/components/switch/switch.js"],"sourcesContent":["import { Switch } from \"@headlessui/react\";\nimport { CheckIcon, XMarkIcon } from \"@heroicons/react/24/outline\";\nimport classNames from \"classnames\";\nimport React, { FunctionComponent, useState } from \"react\";\nimport { ButtonSize, smallClasses, regularClasses } from \"./common-styling\";\n\ntype Props = {\n    label: string;\n    buttonSize: ButtonSize;\n    onChange: (value: boolean) => void;\n    initial?: boolean;\n};\n\nexport const SwitchButton: FunctionComponent<Props> = (props) => {\n    const [checked, setChecked] = useState(props.initial ?? false);\n\n    const offClasses = \"bg-cherry-800 hover:bg-cherry-600 active:bg-cherry-700\";\n    const onClasses = \"bg-cherry-500 hover:bg-cherry-600 active:bg-cherry-700\";\n\n    const handleOnChange = (value: boolean) => {\n        setChecked(value);\n        props.onChange(value);\n    };\n\n    return (\n        <Switch\n            checked={checked}\n            onChange={handleOnChange}\n            className={classNames(\n                \"flex flex-row items-center rounded-lg px-2 py-2 text-notWhite\",\n                {\n                    [smallClasses]: props.buttonSize === \"small\",\n                    [regularClasses]: props.buttonSize === \"regular\",\n                    [onClasses]: checked,\n                    [offClasses]: !checked,\n                }\n            )}\n        >\n            {props.label}\n            &nbsp;\n            {checked ? (\n                <CheckIcon className=\"h-4\" />\n            ) : (\n                <XMarkIcon className=\"h-4\" />\n            )}\n        </Switch>\n    );\n};\n","import sitemap from \"@/shared/sitemap\";\nimport React, { FunctionComponent } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { SwitchButton } from \"../elements/switch-button\";\nimport { TimelineSwitch } from \"../partials/timeline-switch\";\nimport ProjectPostFeed, { ProjectPostFeedProps } from \"./project-post-feed\";\n\nexport type BookmarkedTagFeedProps = ProjectPostFeedProps & {\n    show18PlusPosts: boolean;\n};\n\nexport const BookmarkedTagFeed: FunctionComponent<BookmarkedTagFeedProps> = (\n    props\n) => {\n    return (\n        <>\n            <Helmet title=\"bookmarked tag feed\" />\n            <ProjectPostFeed\n                {...props}\n                queryParams={{ show18PlusPosts: props.show18PlusPosts }}\n            >\n                <div className=\"mb-2 flex flex-col items-center lg:flex-row\">\n                    {/* avatar spacer on desktop */}\n                    <span className=\"hidden w-[5.5em] lg:block\" />\n                    <TimelineSwitch\n                        tabs={[\n                            {\n                                label: \"latest posts\",\n                                href: sitemap.public.dashboard().toString(),\n                            },\n                            {\n                                label: \"bookmarked tags\",\n                                href: sitemap.public\n                                    .bookmarkedTagFeed()\n                                    .toString(),\n                                active: true,\n                            },\n                        ]}\n                    />\n                    <div className=\"flex-1\">&nbsp;</div>\n                    <SwitchButton\n                        label=\"show 18+ posts\"\n                        buttonSize=\"regular\"\n                        onChange={() =>\n                            location.assign(\n                                sitemap.public\n                                    .bookmarkedTagFeed({\n                                        show18PlusPosts: !props.show18PlusPosts,\n                                    })\n                                    .toString()\n                            )\n                        }\n                        initial={props.show18PlusPosts}\n                    />\n                </div>\n            </ProjectPostFeed>\n        </>\n    );\n};\n\nexport default BookmarkedTagFeed;\nBookmarkedTagFeed.displayName = \"bookmarked-tag-feed\";\n","import React, { FunctionComponent } from \"react\";\n\nexport const NoPostsPlaceholder: FunctionComponent<{\n    children: React.ReactNode;\n}> = ({ children }) => {\n    return (\n        <div\n            className={`cohost-shadow-light dark:cohost-shadow-dark flex flex-row \n                gap-3 rounded-lg bg-notWhite p-3 text-cherry`}\n        >\n            {children}\n        </div>\n    );\n};\n","import { sitemap } from \"@/shared/sitemap\";\nimport { ProjectHandle } from \"@/shared/types/ids\";\nimport React, { FunctionComponent } from \"react\";\nimport PaginationEggs from \"../partials/pagination-eggs\";\n\ntype RefTimestampOffsetLimitPaginationMode = {\n    mode: \"refTimestampOffsetLimit\";\n    refTimestamp: number;\n    currentSkip: number;\n    morePagesForward: boolean;\n    morePagesBackward: boolean;\n    idealPageStride: number;\n    pageUrlFactoryName: string;\n    tagSlug?: string;\n    projectHandle?: ProjectHandle;\n};\ntype BeforeAfterLimitPaginationMode = {\n    mode: \"beforeAfterLimit\";\n    beforeTime: number | undefined;\n    afterTime: number | undefined;\n    pageUrlFactoryName: string;\n    tagSlug?: string;\n    projectHandle?: ProjectHandle;\n};\n\nexport type PaginationMode =\n    | { mode: false }\n    | RefTimestampOffsetLimitPaginationMode\n    | BeforeAfterLimitPaginationMode;\n\ntype PageUrlFactory<TOtherQueryParams = Record<string, never>> = (\n    args?: {\n        refTimestamp: number | undefined;\n        skipPosts: number | undefined;\n        tagSlug: string | undefined;\n        projectHandle: ProjectHandle | undefined;\n        afterTime: number | undefined;\n        beforeTime: number | undefined;\n    } & TOtherQueryParams\n) => URL;\n\nconst getPageUrlFactory = <TOtherQueryParams,>(pageUrlFactoryName: string) => {\n    return pageUrlFactoryName.split(\".\").reduce(\n        // @ts-expect-error it's kind of impossible to type this correctly unfortunately\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        (sitemap, key) => sitemap[key],\n        sitemap.public\n    ) as unknown as PageUrlFactory<TOtherQueryParams>;\n};\n\n//#region refTimestampOffsetLimit\ninterface RefTimestampOffsetLimitPaginationProps<TOtherQueryParams> {\n    paginationMode: RefTimestampOffsetLimitPaginationMode;\n    postsLength: number;\n    otherQueryParams: TOtherQueryParams;\n}\n\nconst RefTimestampOffsetLimitPagination = <TOtherQueryParams,>({\n    paginationMode,\n    postsLength,\n    otherQueryParams,\n}: RefTimestampOffsetLimitPaginationProps<TOtherQueryParams>) => {\n    const pageUrlFactory = getPageUrlFactory<TOtherQueryParams>(\n        paginationMode.pageUrlFactoryName\n    );\n    const paginationLinkForward = paginationMode.morePagesForward\n        ? pageUrlFactory({\n              refTimestamp: paginationMode.refTimestamp,\n              skipPosts: paginationMode.currentSkip + postsLength,\n              tagSlug: paginationMode.tagSlug,\n              projectHandle: paginationMode.projectHandle,\n              beforeTime: undefined,\n              afterTime: undefined,\n              ...otherQueryParams,\n          }).toString()\n        : undefined;\n\n    let paginationLinkBack: string | undefined;\n\n    if (paginationMode.morePagesBackward) {\n        if (paginationMode.currentSkip <= paginationMode.idealPageStride) {\n            // go back to the live feed\n            paginationLinkBack = pageUrlFactory({\n                tagSlug: paginationMode.tagSlug,\n                refTimestamp: undefined,\n                skipPosts: undefined,\n                projectHandle: paginationMode.projectHandle,\n                beforeTime: undefined,\n                afterTime: undefined,\n                ...otherQueryParams,\n            }).toString();\n        } else {\n            // go back to a previous page of the backlog\n            paginationLinkBack = pageUrlFactory({\n                refTimestamp: paginationMode.refTimestamp,\n                skipPosts: Math.max(\n                    0,\n                    paginationMode.currentSkip - paginationMode.idealPageStride\n                ),\n                tagSlug: paginationMode.tagSlug,\n                projectHandle: paginationMode.projectHandle,\n                beforeTime: undefined,\n                afterTime: undefined,\n                ...otherQueryParams,\n            }).toString();\n        }\n    }\n\n    return (\n        <PaginationEggs\n            backLink={paginationLinkBack}\n            forwardLink={paginationLinkForward}\n        />\n    );\n};\n//#endregion\n\n//#region beforeAfterLimit\ninterface BeforeAfterTimestampLimitPaginationArgs<TOtherQueryParams> {\n    paginationMode: BeforeAfterLimitPaginationMode;\n    otherQueryParams: TOtherQueryParams;\n}\n\nconst BeforeAfterTimestampLimitPagination = <TOtherQueryParams,>({\n    paginationMode,\n    otherQueryParams,\n}: BeforeAfterTimestampLimitPaginationArgs<TOtherQueryParams>) => {\n    const pageUrlFactory = getPageUrlFactory(paginationMode.pageUrlFactoryName);\n    const paginationLinkForward = paginationMode.beforeTime\n        ? pageUrlFactory({\n              refTimestamp: undefined,\n              skipPosts: undefined,\n              tagSlug: paginationMode.tagSlug,\n              projectHandle: paginationMode.projectHandle,\n              beforeTime: paginationMode.beforeTime,\n              afterTime: undefined,\n              ...otherQueryParams,\n          }).toString()\n        : undefined;\n\n    const paginationLinkBack = paginationMode.afterTime\n        ? pageUrlFactory({\n              refTimestamp: undefined,\n              skipPosts: undefined,\n              tagSlug: paginationMode.tagSlug,\n              projectHandle: paginationMode.projectHandle,\n              beforeTime: undefined,\n              afterTime: paginationMode.afterTime,\n              ...otherQueryParams,\n          }).toString()\n        : undefined;\n\n    return (\n        <PaginationEggs\n            backLink={paginationLinkBack}\n            forwardLink={paginationLinkForward}\n        />\n    );\n};\n//#endregion\n\ninterface ProjectPostFeedPaginationProps<TOtherQueryParams> {\n    paginationMode: PaginationMode;\n    postsLength: number;\n    otherQueryParams: TOtherQueryParams;\n}\n\nexport const ProjectPostFeedPagination = <TOtherQueryParams,>({\n    paginationMode,\n    postsLength,\n    otherQueryParams,\n}: ProjectPostFeedPaginationProps<TOtherQueryParams>) => {\n    if (paginationMode.mode === \"refTimestampOffsetLimit\") {\n        return (\n            <RefTimestampOffsetLimitPagination\n                paginationMode={paginationMode}\n                postsLength={postsLength}\n                otherQueryParams={otherQueryParams}\n            />\n        );\n    } else if (paginationMode.mode === \"beforeAfterLimit\") {\n        return (\n            <BeforeAfterTimestampLimitPagination\n                paginationMode={paginationMode}\n                otherQueryParams={otherQueryParams}\n            />\n        );\n    }\n\n    return null;\n};\n","import { PostPreview } from \"@/client/preact/components/posts/post-preview\";\nimport { ProjectHandle } from \"@/shared/types/ids\";\nimport { WirePostViewModel } from \"@/shared/types/wire-models\";\nimport { DocumentTextIcon } from \"@heroicons/react/24/outline\";\nimport loadable from \"@loadable/component\";\nimport React, { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport RenderIfVisible from \"react-render-if-visible\";\nimport { useCurrentProject } from \"../../hooks/data-loaders\";\nimport { useDisplayPrefs } from \"../../hooks/use-display-prefs\";\nimport { useModalPostComposer } from \"../modal-post-composer-context\";\nimport { NoPostsPlaceholder } from \"../partials/no-posts-placeholder\";\nimport {\n    PaginationMode,\n    ProjectPostFeedPagination,\n} from \"../partials/project-post-feed-pagination\";\nimport { SidebarMenu } from \"../sidebar-menu\";\n\nexport type ProjectPostFeedProps<TQueryParams = Record<string, never>> = {\n    handle?: ProjectHandle;\n    posts: WirePostViewModel[];\n    highlightedTags: readonly string[];\n    paginationMode: PaginationMode;\n    noPostsStringId: string;\n    children?: React.ReactNode;\n    bare?: boolean;\n    condensed?: boolean;\n    queryParams?: TQueryParams;\n};\n\nexport const ProjectPostFeed = Object.assign(\n    <TQueryParams,>({\n        posts,\n        highlightedTags,\n        paginationMode,\n        noPostsStringId,\n        children,\n        bare,\n        condensed,\n        queryParams,\n    }: ProjectPostFeedProps<TQueryParams>) => {\n        const { t } = useTranslation();\n        const currentProject = useCurrentProject();\n        const displayPrefs = useDisplayPrefs();\n\n        const inner = (\n            <>\n                {/* TODO: if we have more than one subcomponent we should \n                            do something fancier than this */}\n                {children}\n\n                <div className=\"flex flex-col gap-12\">\n                    {posts.length > 0 ? (\n                        posts.map((post, index) =>\n                            post ? (\n                                <RenderIfVisible\n                                    key={post.postId}\n                                    initialVisible={index < 4}\n                                    stayRendered={true}\n                                >\n                                    <PostPreview\n                                        viewModel={post}\n                                        highlightedTags={highlightedTags}\n                                        displayPrefs={displayPrefs}\n                                        condensed={condensed}\n                                    />\n                                </RenderIfVisible>\n                            ) : null\n                        )\n                    ) : (\n                        <NoPostsPlaceholder>\n                            <DocumentTextIcon className=\"h-6 w-6\" />\n                            {t(noPostsStringId)}\n                        </NoPostsPlaceholder>\n                    )}\n\n                    <ProjectPostFeedPagination\n                        paginationMode={paginationMode}\n                        postsLength={posts.length}\n                        otherQueryParams={queryParams ?? {}}\n                    />\n                </div>\n            </>\n        );\n\n        const modalPostComposer = useModalPostComposer();\n        useEffect(() => {\n            if (currentProject) {\n                modalPostComposer.setup({\n                    project: currentProject,\n                });\n            }\n        }, [currentProject, modalPostComposer]);\n\n        return bare ? (\n            inner\n        ) : (\n            <main className=\"w-full lg:pt-16\">\n                <div className=\"container mx-auto grid grid-cols-1 gap-16 lg:grid-cols-4\">\n                    <SidebarMenu />\n                    <section className=\"col-span-1 flex flex-col lg:col-span-2\">\n                        {inner}\n                    </section>\n                </div>\n            </main>\n        );\n    },\n    {\n        displayName: \"project-post-feed\",\n    }\n);\n\nexport default ProjectPostFeed;\n","import * as React from \"react\";\n\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8.25 4.5l7.5 7.5-7.5 7.5\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;","import { ChevronRightIcon } from \"@heroicons/react/24/outline\";\nimport classNames from \"classnames\";\nimport React, { FunctionComponent } from \"react\";\nimport { IconEgg } from \"../icons/text-egg\";\n\nexport interface PaginationEggProps {\n    backLink: string | undefined;\n    forwardLink: string | undefined;\n    condensed?: boolean | undefined;\n    backOnClick?: React.MouseEventHandler | undefined;\n    forwardOnClick?: React.MouseEventHandler | undefined;\n}\n\nconst paginationEggStyles = classNames(\n    \"h-8\",\n    \"pr-3\",\n    \"fill-secondary\",\n    \"text-notWhite\",\n    \"cohost-shadow-light\",\n    \"dark:cohost-shadow-dark\",\n    \"dark:text-notBlack\"\n);\n\nexport const PaginationEggs: FunctionComponent<PaginationEggProps> = ({\n    backLink,\n    forwardLink,\n    condensed = false,\n    backOnClick,\n    forwardOnClick,\n}) => {\n    return (\n        <div className=\"mb-12 flex flex-row gap-x-6\">\n            {/* to take up the space occupied by the avatar column */}\n            {!condensed ? (\n                <span className=\"hidden w-16 lg:block\">&nbsp;</span>\n            ) : null}\n            {backLink ? (\n                <a href={backLink} onClick={backOnClick}>\n                    <IconEgg className={`${paginationEggStyles} scale-x-[-1]`}>\n                        <ChevronRightIcon />\n                    </IconEgg>\n                </a>\n            ) : null}\n            <span className=\"flex-grow\">&nbsp;</span>\n            {forwardLink ? (\n                <a href={forwardLink} onClick={forwardOnClick}>\n                    <IconEgg className={paginationEggStyles}>\n                        <ChevronRightIcon />\n                    </IconEgg>\n                </a>\n            ) : null}\n        </div>\n    );\n};\n\nexport default PaginationEggs;\n","import React, { FunctionComponent } from \"react\";\n\nexport const TimelineSwitch: FunctionComponent<{\n    tabs: {\n        label: string;\n        href: string;\n        active?: boolean;\n    }[];\n}> = ({ tabs }) => {\n    return (\n        <ul className=\"flex w-full flex-row items-center justify-evenly overflow-y-auto whitespace-nowrap bg-foreground-800 text-notWhite lg:w-auto lg:rounded-lg\">\n            {tabs.map((tab) => (\n                <li\n                    key={`${tab.label}-${tab.href}`}\n                    className={`flex-grow px-10 py-2 text-center text-sm lg:first-of-type:rounded-l-lg lg:last-of-type:rounded-r-lg ${\n                        tab.active\n                            ? \"rounded-b-lg bg-foreground font-bold first-of-type:rounded-bl-none last-of-type:rounded-br-none lg:rounded-lg\"\n                            : \"bg-foreground-800 text-foreground-200\"\n                    }`}\n                >\n                    <a href={tab.href}>{tab.label}</a>\n                </li>\n            ))}\n        </ul>\n    );\n};\n\nexport const MultiSwitchButton: FunctionComponent<{\n    tabs: {\n        label: string;\n        onClick: () => void;\n        active?: boolean;\n    }[];\n}> = ({ tabs }) => {\n    return (\n        <ul className=\"flex w-full flex-row items-center justify-evenly overflow-y-auto whitespace-nowrap bg-foreground-800 text-notWhite lg:w-auto lg:rounded-lg\">\n            {tabs.map((tab) => (\n                <li\n                    key={`${tab.label}`}\n                    className={`flex-grow px-10 py-2 text-center text-sm lg:first-of-type:rounded-l-lg lg:last-of-type:rounded-r-lg ${\n                        tab.active\n                            ? \"rounded-b-lg bg-foreground font-bold first-of-type:rounded-bl-none last-of-type:rounded-br-none lg:rounded-lg\"\n                            : \"bg-foreground-800 text-foreground-200\"\n                    }`}\n                >\n                    <button onClick={tab.onClick}>{tab.label}</button>\n                </li>\n            ))}\n        </ul>\n    );\n};\n","import c,{createContext as m,useContext as L,useMemo as f,useState as b}from\"react\";import{useId as T}from'../../hooks/use-id.js';import{forwardRefWithAs as E,render as g}from'../../utils/render.js';import{useIsoMorphicEffect as x}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as P}from'../../hooks/use-sync-refs.js';import{useEvent as y}from'../../hooks/use-event.js';let d=m(null);function u(){let o=L(d);if(o===null){let t=new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}return o}function H(){let[o,t]=b([]);return[o.length>0?o.join(\" \"):void 0,f(()=>function(e){let s=y(r=>(t(l=>[...l,r]),()=>t(l=>{let n=l.slice(),p=n.indexOf(r);return p!==-1&&n.splice(p,1),n}))),a=f(()=>({register:s,slot:e.slot,name:e.name,props:e.props}),[s,e.slot,e.name,e.props]);return c.createElement(d.Provider,{value:a},e.children)},[t])]}let A=\"label\";function h(o,t){let i=T(),{id:e=`headlessui-label-${i}`,passive:s=!1,...a}=o,r=u(),l=P(t);x(()=>r.register(e),[e,r.register]);let n={ref:l,...r.props,id:e};return s&&(\"onClick\"in n&&(delete n.htmlFor,delete n.onClick),\"onClick\"in a&&delete a.onClick),g({ourProps:n,theirProps:a,slot:r.slot||{},defaultTag:A,name:r.name||\"Label\"})}let v=E(h),M=Object.assign(v,{});export{M as Label,H as useLabels};\n","import i,{Fragment as x,createContext as A,useContext as H,useMemo as E,useRef as F,useState as M,useEffect as _}from\"react\";import{forwardRefWithAs as U,render as P,compact as K}from'../../utils/render.js';import{useId as B}from'../../hooks/use-id.js';import{Keys as g}from'../keyboard.js';import{isDisabledReactIssue7711 as I}from'../../utils/bugs.js';import{Label as O,useLabels as W}from'../label/label.js';import{Description as N,useDescriptions as J}from'../description/description.js';import{useResolveButtonType as X}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as j}from'../../hooks/use-sync-refs.js';import{Hidden as $,Features as q}from'../../internal/hidden.js';import{attemptSubmit as z}from'../../utils/form.js';import{useEvent as m}from'../../hooks/use-event.js';import{useControllable as Q}from'../../hooks/use-controllable.js';import{useDisposables as V}from'../../hooks/use-disposables.js';let y=A(null);y.displayName=\"GroupContext\";let Y=x;function Z(s){var d;let[n,p]=M(null),[c,f]=W(),[r,h]=J(),l=E(()=>({switch:n,setSwitch:p,labelledby:c,describedby:r}),[n,p,c,r]),T={},b=s;return i.createElement(h,{name:\"Switch.Description\"},i.createElement(f,{name:\"Switch.Label\",props:{htmlFor:(d=l.switch)==null?void 0:d.id,onClick(t){n&&(t.currentTarget.tagName===\"LABEL\"&&t.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},i.createElement(y.Provider,{value:l},P({ourProps:T,theirProps:b,defaultTag:Y,name:\"Switch.Group\"}))))}let ee=\"button\";function te(s,n){let p=B(),{id:c=`headlessui-switch-${p}`,checked:f,defaultChecked:r=!1,onChange:h,name:l,value:T,form:b,...d}=s,t=H(y),u=F(null),D=j(u,n,t===null?null:t.setSwitch),[o,a]=Q(f,h,r),S=m(()=>a==null?void 0:a(!o)),C=m(e=>{if(I(e.currentTarget))return e.preventDefault();e.preventDefault(),S()}),L=m(e=>{e.key===g.Space?(e.preventDefault(),S()):e.key===g.Enter&&z(e.currentTarget)}),v=m(e=>e.preventDefault()),G=E(()=>({checked:o}),[o]),R={id:c,ref:D,role:\"switch\",type:X(s,u),tabIndex:0,\"aria-checked\":o,\"aria-labelledby\":t==null?void 0:t.labelledby,\"aria-describedby\":t==null?void 0:t.describedby,onClick:C,onKeyUp:L,onKeyPress:v},k=V();return _(()=>{var w;let e=(w=u.current)==null?void 0:w.closest(\"form\");e&&r!==void 0&&k.addEventListener(e,\"reset\",()=>{a(r)})},[u,a]),i.createElement(i.Fragment,null,l!=null&&o&&i.createElement($,{features:q.Hidden,...K({as:\"input\",type:\"checkbox\",hidden:!0,readOnly:!0,form:b,checked:o,name:l,value:T})}),P({ourProps:R,theirProps:d,slot:G,defaultTag:ee,name:\"Switch\"}))}let ne=U(te),re=Z,Ge=Object.assign(ne,{Group:re,Label:O,Description:N});export{Ge as Switch};\n"],"names":["SwitchButton","props","checked","setChecked","useState","initial","React","Switch","onChange","value","className","classNames","smallClasses","buttonSize","regularClasses","label","CheckIcon","XMarkIcon","BookmarkedTagFeed","Helmet","title","ProjectPostFeed","_extends","queryParams","show18PlusPosts","TimelineSwitch","tabs","href","sitemap","toString","active","location","assign","displayName","NoPostsPlaceholder","children","getPageUrlFactory","pageUrlFactoryName","split","reduce","key","RefTimestampOffsetLimitPagination","paginationMode","postsLength","otherQueryParams","pageUrlFactory","paginationLinkForward","morePagesForward","refTimestamp","skipPosts","currentSkip","tagSlug","projectHandle","beforeTime","undefined","afterTime","paginationLinkBack","morePagesBackward","idealPageStride","Math","max","PaginationEggs","backLink","forwardLink","BeforeAfterTimestampLimitPagination","ProjectPostFeedPagination","mode","Object","posts","highlightedTags","noPostsStringId","bare","condensed","t","useTranslation","currentProject","useCurrentProject","displayPrefs","useDisplayPrefs","inner","length","map","post","index","RenderIfVisible","postId","initialVisible","stayRendered","PostPreview","viewModel","DocumentTextIcon","modalPostComposer","useModalPostComposer","useEffect","setup","project","SidebarMenu","titleId","svgRef","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","paginationEggStyles","backOnClick","forwardOnClick","onClick","IconEgg","ChevronRightIcon","tab","u","o","Error","captureStackTrace","H","join","e","s","r","l","n","slice","p","indexOf","splice","a","register","slot","name","Provider","v","i","passive","htmlFor","ourProps","theirProps","defaultTag","M","y","Y","ne","c","f","defaultChecked","h","T","form","b","D","setSwitch","S","C","currentTarget","preventDefault","L","G","R","role","type","tabIndex","labelledby","describedby","onKeyUp","onKeyPress","k","w","current","closest","addEventListener","features","as","hidden","readOnly","Ge","Group","switch","tagName","click","focus","preventScroll","Label","Description"],"sourceRoot":""}