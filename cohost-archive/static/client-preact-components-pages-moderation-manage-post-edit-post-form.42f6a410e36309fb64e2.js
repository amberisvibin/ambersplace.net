"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3549],{2735:function(e,t,r){r.d(t,{Qj:function(){return O},zx:function(){return k}});var o=r(65443),n=r.n(o),l=r(94159),a=r(6285);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c.apply(this,arguments)}const s=a.z.enum(["pill","roundrect","authn"]),d=a.z.enum(["cherry","strawberry","mango","not-black","red","green","accent","secondary","authn-primary","authn-other"]),u=(a.z.object({buttonStyle:s,color:d,className:a.z.string().optional()}),n()("bg-notWhite","hover:text-notWhite")),i=n()("font-atkinson","font-bold","rounded-full","border-2"),m=n()("body-2","rounded-lg"),b=n()("flex","h-12","items-center","justify-center","rounded-lg","px-6","text-lg"),f=n()("border-cherry","hover:bg-cherry","text-cherry","active:bg-cherry-600","active:border-cherry-600","disabled:text-cherry-300","disabled:border-cherry-300","focus:outline-cherry","focus:ring-cherry",u),g=n()("border-strawberry","hover:bg-strawberry","text-strawberry","active:bg-strawberry-600","active:border-strawberry-600","disabled:text-strawberry-300","disabled:border-strawberry-300","focus:outline-strawberry","focus:ring-strawberry",u),p=n()("border-red","hover:bg-red","text-red","active:bg-red-600","active:border-red-600","disabled:text-red-300","disabled:border-red-300","focus:outline-red",u),x=n()("border-green","hover:bg-green","text-green","active:bg-green-600","active:border-green-600","disabled:text-green-300","disabled:border-green-300","focus:outline-green",u),h=n()("border-mango","hover:bg-mango","text-mango","bg-notBlack","hover:text-notBlack"),y=n()("border-notBlack","hover:bg-notBlack","text-notBlack","focus:outline-notBlack","focus:ring-notBlack",u),v=n()("border-accent","text-accent","bg-foreground","hover:bg-accent","hover:text-text"),E=n()("bg-secondary","text-notWhite","dark:text-notBlack","hover:bg-secondary-600"),w=n()("bg-foreground","text-text","hover:bg-foreground-600","active:bg-foreground-700","disabled:bg-foreground-200"),N=n()("border-2","border-foreground","text-foreground","hover:bg-longan-200"),S=e=>n()("leading-none","align-middle","py-2","px-4","no-select",e.className,{[i]:"pill"===e.buttonStyle,[m]:"roundrect"===e.buttonStyle,[b]:"authn"===e.buttonStyle,[f]:"cherry"===e.color,[g]:"strawberry"===e.color,[h]:"mango"===e.color,[y]:"not-black"===e.color,[p]:"red"===e.color,[v]:"accent"===e.color,[x]:"green"===e.color,[E]:"secondary"===e.color,[w]:"authn-primary"===e.color,[N]:"authn-other"===e.color}),k=l.forwardRef((({buttonStyle:e,color:t,className:r,...o},n)=>{const a=S({buttonStyle:e,color:t,className:r,...o});return l.createElement("button",c({},o,{className:a,ref:n}),o.children)}));k.displayName="Button";const O=l.forwardRef((({buttonStyle:e,color:t,...r},o)=>{const n=S({buttonStyle:e,color:t,...r});return l.createElement("a",c({},r,{className:n,ref:o}),r.children)}));O.displayName="LinkButton"},37147:function(e,t,r){r.r(t),r.d(t,{EditPostForm:function(){return d}});var o=r(94159),n=r(99838),l=r(22018),a=r(71860),c=r(2735);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s.apply(this,arguments)}const d=({post:e})=>{const t=a.S.posts.moderation.editPost.useMutation(),{control:r,formState:d,register:u,handleSubmit:i}=(0,n.cI)({defaultValues:{postState:e.state,adultContent:e.adultContent,adultContentOverride:e.adultContentOverride,commentsLocked:e.commentsLocked,cws:e.cws}});return(0,o.useEffect)((()=>{d.isSubmitSuccessful&&location.reload()}),[d.isSubmitSuccessful]),o.createElement("form",{className:"my-6 flex max-w-prose flex-col gap-4 divide-y",onSubmit:i((r=>t.mutateAsync({postId:e.postId,adultContent:r.adultContent,adultContentOverride:r.adultContentOverride,state:r.postState,commentsLocked:r.commentsLocked,cws:r.cws})))},o.createElement("div",{className:"flex flex-col gap-2"},o.createElement("label",null,"post state"),d.errors.postState?o.createElement("span",{className:"font-bold text-red"},d.errors.postState.message):null,o.createElement("select",u("postState",{valueAsNumber:!0}),o.createElement("option",{value:l.h.Deleted},"Deleted"),o.createElement("option",{value:l.h.Unpublished},"Unpublished"),o.createElement("option",{value:l.h.Published},"Published"))),o.createElement("div",{className:"flex flex-col gap-2"},o.createElement("div",{className:"flex flex-row items-center gap-2"},o.createElement("label",null,"adult content"),o.createElement("input",s({type:"checkbox"},u("adultContent")))),d.errors.adultContent?o.createElement("span",{className:"font-bold text-red"},d.errors.adultContent.message):null),o.createElement("div",{className:"flex flex-col gap-2"},o.createElement("div",{className:"flex flex-row items-center gap-2"},o.createElement("label",null,"adult content override"),o.createElement("input",s({type:"checkbox"},u("adultContentOverride")))),d.errors.adultContentOverride?o.createElement("span",{className:"font-bold text-red"},d.errors.adultContentOverride.message):null),o.createElement("div",{className:"flex flex-col gap-2"},o.createElement("div",{className:"flex flex-row items-center gap-2"},o.createElement("label",null,"comments locked"),o.createElement("input",s({type:"checkbox"},u("commentsLocked")))),d.errors.commentsLocked?o.createElement("span",{className:"font-bold text-red"},d.errors.commentsLocked.message):null),o.createElement("div",{className:"flex flex-col gap-2"},o.createElement("div",{className:"flex flex-row items-center gap-2"},o.createElement("label",null,"CWs"),o.createElement("input",s({className:"w-full"},u("cws",{setValueAs:e=>"string"==typeof e?e.split(",").map((e=>e.trim())):e})))),d.errors.cws?o.createElement("span",{className:"font-bold text-red"},d.errors.cws.map((e=>e.message)).join(", ")):null),o.createElement(c.zx,{type:"submit",buttonStyle:"pill",color:"cherry",className:"max-w-max"},"submit"),d.isSubmitSuccessful?o.createElement("span",{className:"font-bold text-green"},"Submit successful!"):null,null)}}}]);
//# sourceMappingURL=client-preact-components-pages-moderation-manage-post-edit-post-form.42f6a410e36309fb64e2.js.map